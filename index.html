<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Login - Gym System</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="container" id="login-container">
    <h2>Admin Login</h2>
    <input type="email" id="email" placeholder="Email" required>
    <input type="password" id="password" placeholder="Password" required>
    
    <button class="login-btn" onclick="login()">Login</button>
    <p style="text-align: right;margin-left: 50%; margin-top: 10px; color: #ccc;
text-decoration: underline;">
  <a href="#" onclick="resetPassword()" style="color: #ffffff; font-size: 0.9rem;">Forgot Password?</a>
</p>
    <p id="error-message"></p>
  </div>

  <div class="container hidden" id="dashboard-container">
    <h2>Welcome, Admin</h2>
<nav class="tab-navbar-horizontal clean-navbar">
  <ul class="tab-menu clean-tab-menu">
    <li class="tab-item active" onclick="showTab('members')">
      <i data-feather="users"></i>
      <span>Members</span>
    </li>
    <li class="tab-item" onclick="showTab('add')">
      <i data-feather="folder-plus"></i>
      <span>Add Member</span>
    </li>
    <li class="tab-item" onclick="showTab('admin')">
      <i data-feather="user-plus"></i>
      <span>Add Admin</span>
    </li>
    <li class="tab-item logout-tab" onclick="logout()">
      <i data-feather="log-out"></i>
    </li>
  </ul>
</nav>



    <div id="tab-members" class="tab-content">
      <h3>All Members</h3>
      <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 10px; align-items: center; flex-wrap: nowrap;">
  <input type="text" id="searchInput" placeholder="üîç Search members..." oninput="filterMembers()" 
         style="flex: 1; min-width: 40%; padding: 8px; font-size: 1rem;">

  <select id="typeFilter" onchange="filterMembers()" style="padding: 8px; font-size: 0.85rem; min-width: 25%;">
  <option value="">All Types</option>
  <option value="Regular">Regular</option>
  <option value="Student">Student</option>
</select>

<select id="statusFilter" onchange="filterMembers()" style="padding: 8px; font-size: 0.85rem; min-width: 25%;">
  <option value="">All Status</option>
  <option value="active">Active</option>
  <option value="expired">Expired</option>
</select>

  
</div>

      <div id="member-list"></div>
    </div>

    <div id="tab-add" class="tab-content hidden">
      <h3>Add New Member</h3>
      <input type="text" id="newName" placeholder="Full Name" required />
      <select id="memberType" onchange="updateMembershipDetails()">
        <option value="Regular">Regular (‚Ç±600)</option>
        <option value="Student">Student (‚Ç±500)</option>
      </select>
      <label for="startDate">Start Date</label>
      <input type="datetime-local" id="startDate" />
      <label for="expiresAt">Expires At</label>
      <input type="datetime-local" id="expiresAt" />
      <p>Price: ‚Ç±<span id="priceDisplay">600</span></p>
      <button onclick="addMember()">Add Member</button>
      <p id="addMessage"></p>
    </div>

    <div id="tab-admin" class="tab-content hidden">
  <h3>Add New Admin</h3>
  <div>
    <input type="email" id="adminEmail" placeholder="Enter admin email" />
    <input type="password" id="adminPassword" placeholder="Enter password" />
    <button onclick="addAdmin()">‚ûï Add Admin</button>
    <p id="adminMessage"></p>
  </div>
</div>
  </div>

  <div id="editModal" class="hidden" style="position:fixed; top:0; left:0; width:100%; height:100%; background:#00000099; justify-content:center; align-items:center; z-index:999;">
    <div style="background:white; padding:20px; border-radius:8px; width:300px;">
      <h3>Edit Member</h3>
      <input id="editName" type="text" placeholder="Name" style="width:100%; margin-bottom:10px;"><br>
      <select id="editType" style="width:100%; margin-bottom:10px;">
        <option value="Regular">Regular</option>
        <option value="Student">Student</option>
      </select><br>
      <label>Start:</label><br>
      <input id="editStart" type="datetime-local" style="width:100%; margin-bottom:10px;"><br>
      <label>Expires:</label><br>
      <input id="editExpires" type="datetime-local" style="width:100%; margin-bottom:10px;"><br>
      <div style="text-align:right;">
          <!-- üî¥ Delete Button -->
    <button id="deleteMemberBtn" class="delete-btn" onclick="confirmDeleteMember()" style="margin-top: 10px;">
      üóëÔ∏è Delete Member
    </button>
       <button id="saveEditBtn" onclick="saveEdit()">Save</button>
<button id="cancelEditBtn" onclick="closeEditModal()">Cancel</button>

      </div>
    
      <p id="editMessage" style="color:red; font-size:0.9rem;"></p>
    </div>
  </div>
<!-- Renewal Confirmation Modal -->
<div id="renewModal" class="modal hidden">
  <div class="modal-content">
    <h3>Renew Membership</h3>
    <p>Are you sure you want to renew this membership?</p>

    <label for="renewPeriod">Renewal Period (in days):</label>
    <input type="number" id="renewPeriod" value="30" min="1" max="365" />

    <div class="modal-buttons">
      <button onclick="confirmRenew()">‚úÖ Confirm</button>
      <button onclick="closeRenewModal()">‚ùå Cancel</button>
    </div>
  </div>
</div>
<!-- Error Lgoin Modal -->
<div id="errorModal" class="modal hidden">
  <div class="modal-content">
    <h3>‚ö†Ô∏è Login Error</h3>
    <p id="errorModalMessage"></p>
    <button onclick="closeErrorModal()">OK</button>
  </div>
</div>
<!-- Reset Password Modal -->
<div id="resetPasswordModal" class="modal hidden">
  <div class="modal-content">
    <h3>üîí Reset Password</h3>
    <p id="resetPasswordMessage"></p>
    <button onclick="closeResetPasswordModal()">OK</button>
  </div>
</div>
<!-- Image Upload Modal -->
<div id="imageUploadModal" class="modal hidden">
  <div class="modal-content">
    <h3>üñºÔ∏è Profile Picture</h3>
    <p id="imageUploadMessage"></p>
    <button onclick="closeImageUploadModal()">OK</button>
  </div>
</div>
<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal hidden">
  <div class="modal-content">
    <h3>‚ö†Ô∏è Confirm Deletion</h3>
    <p>Are you sure you want to delete this member?</p>
    <div class="modal-buttons">
      <button onclick="deleteConfirmed()">‚úÖ Yes, Delete</button>
      <button onclick="closeDeleteModal()">‚ùå Cancel</button>
    </div>
  </div>
</div>
<!-- Hidden file input for uploading member images -->
<input type="file" id="memberImageInput" accept="image/*" style="display:none" />

  <script src="script.js"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <script>feather.replace()</script>
</body>
</html>
